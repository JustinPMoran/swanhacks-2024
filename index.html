<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Project</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script>
        AFRAME.registerComponent('marker-handler', {
            init: function () {
                const seenText = document.getElementById('seenText');
                let timeoutId;

                this.el.addEventListener('markerFound', () => {
                    fetch('model_info.json')
                    .then(response => response.json())
                    .then(data => {
                        // Do something with the JSON data
                        let model_info = data; 
                        switch (this.el.id) {
                            case "hiro":
                                seenText.innerText = model_info["Skeleton"];
                                break;
                            default:
                                seenText.textContent = "test";
                        }
                    });
                    clearTimeout(timeoutId);
                    seenText.classList.add('visible');
                });

                this.el.addEventListener('markerLost', () => {
                    timeoutId = setTimeout(() => {
                        seenText.classList.remove('visible');
                    }, 4000);
                });
            }
        });
    </script>
</head>

<body style="margin: 0; overflow: hidden;">
    <nav class="navbar navbar-expand-lg navbar-light blurred-nav">
        <div class="container-fluid">
            <img class="logoBox" src="images/image (2).png">
            <a class="logoNAV logoNAV_B" href="index.html">ARuLearning</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link activeFont" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link inactiveFont" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link inactiveFont" href="#">Lessons</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <button class="buttonYellow" type="">Quiz Me</button>
                </form>
            </div>
        </div>
    </nav>

    <a href="indexFullscreen.html">
        <img class="screeners" title="Fullscreen" src="images/fullscreenWhite.png" alt="Fullscreen">
    </a>

    <div id="seenOverlay">
        <span id="seenText">The human skeleton is a remarkable internal framework that forms the structural foundation
            of the body. Composed of approximately 206 bones in adults, it serves several crucial functions. The
            skeleton provides support and shape to the body, enabling us to maintain an upright posture and facilitating
            movement by serving as attachment points for muscles. It also plays a vital role in protecting internal
            organs, such as the brain, heart, and lungs, from external impacts and injuries. Beyond its structural
            and protective roles, the skeleton is essential for blood cell production, which occurs in the bone marrow
            of certain bones. Additionally, it acts as a storage system for important minerals like calcium and
            phosphorus, which can be released into the bloodstream as needed. Together, these functions make the
            skeletal system indispensable for human life and overall health.</span>
    </div>

    <a-scene embedded arjs>
        <!-- Ambient light with intensity 3 -->
        <a-light type="ambient" color="#ffffff" intensity="3"></a-light>

        <!-- Directional light with intensity 3 -->
        <a-light type="directional" color="#ffffff" intensity="3" position="-1 1 1"></a-light>

        <a-marker preset="hiro" marker-handler id="hiro">
            <a-asset-item id="model" src="assets/skellie2.0.glb"></a-asset-item>
            <a-entity gltf-model="#model" scale="5 5 5" position="0 2 0"
                material="color: #F5F5F5; metalness: 0.1; roughness: 0.8"></a-entity>

            <a-text value="hiro" position="0.5 1 0" rotation="-45 0 0"></a-text>
        </a-marker>

        <a-marker preset="kanji">
            <a-entity gltf-model="#model" scale="7 7 7" position="0 2 0"
                material="color: #F5F5F5; metalness: 0.1; roughness: 0.8"></a-entity>

            <a-text value="kanji" position="1 1 1"></a-text>
        </a-marker>

        <a-marker preset="custom" type="pattern"
            url="https://raw.githubusercontent.com/justinpmoran/swanhacks-2024/main/markers/pattern-skeleton.patt">
            <a-text value="Skeleton" position="0.5 1 0"></a-text>
            <a-entity gltf-model="assets/skellie2.0.glb" position="0 0 0" scale="5 5 5"
                animation="property: rotation; to: 0 360 0; dur: 10000; loop: true;"></a-entity>

            <!-- <a-image src="skull.png"></a-image> -->
        </a-marker>

        <a-marker preset="custom" type="pattern"
            url="https://raw.githubusercontent.com/justinpmoran/swanhacks-2024/main/markers/pattern-rib-cage.patt">
            <a-text value="Axial" position="1 1 1"></a-text>
            <a-entity gltf-model="assets/skellie2.0.glb" position="0 0 0" scale="0.01 0.01 0.01"></a-entity>

        </a-marker>

        <a-marker preset="custom" type="pattern"
            url="https://raw.githubusercontent.com/justinpmoran/swanhacks-2024/main/markers/pattern-skull.patt">
            <a-text value="Axial" position="1 1 1"></a-text>
            <a-entity  gltf-model="assets/skellie2.0.glb" position="0 0 0"scale="0.01 0.01 0.01"></a-entity>

        </a-marker>

        <a-marker preset="custom" type="pattern"
            url="https://raw.githubusercontent.com/justinpmoran/swanhacks-2024/main/markers/pattern-spine.patt">
            <a-text value="Spine" position="1 1 1"></a-text>
            <a-entity gltf-model="assets/the_human_spinal_column.glb" position="0 0 0"
                scale="0.01 0.01 0.01"></a-entity>

        </a-marker>


        <!-- <a-marker preset="custom" type="pattern" url="https://your-website.com/path-to-your-marker/marker2.patt">
            <a-entity position="0 0 0" gltf-model="url(model2.glb)" scale="0.2 0.2 0.2"></a-entity>
        </a-marker> -->


        <a-entity camera></a-entity>
    </a-scene>

    <!-- Bootstrap JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>